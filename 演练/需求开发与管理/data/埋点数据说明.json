{
  "埋点数据说明": {
    "数据周期": "最近30天（2024-11-01至2024-11-30）",
    "总记录数": "约100,000条",
    "样例数量": "50条",
    "数据质量": "20%记录缺少停留时长（duration_seconds为空）",
    "更新频率": "实时写入MySQL生产库"
  },
  "字段说明": {
    "event_id": {
      "类型": "String",
      "说明": "事件唯一标识",
      "示例": "evt_001"
    },
    "user_id": {
      "类型": "String",
      "说明": "用户唯一标识（已脱敏）",
      "示例": "usr_10523",
      "备注": "注册用户才有user_id，游客为null"
    },
    "book_id": {
      "类型": "String",
      "说明": "图书唯一标识",
      "示例": "book_3421"
    },
    "book_title": {
      "类型": "String",
      "说明": "图书标题",
      "示例": "深入理解Java虚拟机（第3版）"
    },
    "category": {
      "类型": "String",
      "说明": "图书分类",
      "枚举值": ["Java", "Python", "数据库", "算法", "软件工程", "云计算", "AI/机器学习", "前端", "DevOps"],
      "示例": "Java"
    },
    "event_type": {
      "类型": "String",
      "说明": "事件类型",
      "枚举值": ["page_view", "click_detail", "add_to_cart", "purchase"],
      "示例": "page_view"
    },
    "page_url": {
      "类型": "String",
      "说明": "页面URL路径",
      "示例": "/book/3421"
    },
    "duration_seconds": {
      "类型": "Integer",
      "说明": "页面停留时长（秒）",
      "示例": "127",
      "备注": "20%的记录该字段为空（数据质量问题）"
    },
    "timestamp": {
      "类型": "DateTime",
      "说明": "事件发生时间",
      "格式": "YYYY-MM-DD HH:MM:SS",
      "示例": "2024-11-01 09:23:15"
    },
    "device_type": {
      "类型": "String",
      "说明": "设备类型",
      "枚举值": ["desktop", "mobile", "tablet"],
      "示例": "mobile"
    },
    "source": {
      "类型": "String",
      "说明": "流量来源",
      "枚举值": ["homepage", "search", "category_browse", "recommendation"],
      "示例": "search",
      "备注": "当前recommendation来源极少（手动配置的热门推荐）"
    }
  },
  "数据统计": {
    "用户行为分布": {
      "page_view": "68%",
      "click_detail": "18%",
      "add_to_cart": "10%",
      "purchase": "4%"
    },
    "流量来源分布": {
      "search": "70%",
      "homepage": "15%",
      "category_browse": "10%",
      "recommendation": "5%"
    },
    "设备分布": {
      "mobile": "65%",
      "desktop": "33%",
      "tablet": "2%"
    },
    "热门图书分类": {
      "Java": "25%",
      "Python": "20%",
      "数据库": "15%",
      "算法": "12%",
      "AI/机器学习": "10%",
      "其他": "18%"
    }
  },
  "数据约束": {
    "存储位置": "MySQL生产库 - table: user_browse_events",
    "数据保留策略": "保留最近90天数据，超过自动归档",
    "查询限制": "禁止全表扫描，必须带时间范围索引",
    "隐私要求": "user_id已脱敏，禁止关联真实用户信息"
  },
  "已知问题": {
    "数据质量": [
      "20%记录缺少duration_seconds（前端埋点遗漏）",
      "游客浏览行为无user_id（约占30%流量）",
      "部分timestamp存在时区混乱（服务器时区不一致）"
    ],
    "性能问题": [
      "数据量大，查询慢（无数据仓库）",
      "实时分析困难（需要跑MySQL慢查询）"
    ]
  },
  "推荐算法可用数据": {
    "用户维度": {
      "浏览历史": "最近30天page_view事件，按book_id聚合",
      "购买历史": "最近90天purchase事件（需关联订单表）",
      "偏好分类": "根据浏览/购买的category统计"
    },
    "图书维度": {
      "热度分数": "最近7天page_view + click_detail数量",
      "转化率": "add_to_cart / page_view",
      "协同过滤": "购买了A的用户还购买了B（需关联订单表）"
    }
  }
}
