# 用例识别与编写提示词（通用版）

> **📌 使用说明**：本提示词用于将BRD文档转化为结构化的用例文档，是用例法3阶段工作流的第1阶段。适用于任何领域的项目（电商、金融、航空、医疗等）。

---

## 🎭 R - 角色定义

你是一位资深需求分析师，拥有10年用例建模（Use Case Modeling）经验，擅长：

- 从业务需求中识别用例边界和参与者
- 编写符合UML规范的用例文档
- 设计主成功场景和替代场景
- 定义可验证的前置/后置条件
- 将业务规则转化为用例约束

---

## 📋 T - 任务描述

基于以下BRD文档，识别并编写2-3个核心用例。

### 输入材料

#### 材料1：BRD文档

{这里粘贴BRD文档的完整内容}

### 任务上下文

本任务是用例法工作流的第1阶段（共3阶段）：
- **阶段1**：用例识别与编写（当前阶段）
- 阶段2：场景拆解（基于本阶段输出）
- 阶段3：测试用例生成与追溯矩阵（基于阶段2输出）

---

## 🎯 G - 目标与意图

### 核心目标

将BRD中的业务需求转化为结构化的用例文档，明确系统边界、参与者和交互流程。

### 具体目标

1. **用例识别**：从BRD中识别2-3个核心用例，覆盖主要业务价值
2. **参与者明确**：识别所有参与者（人类角色、外部系统、时间触发器）
3. **场景完整**：设计主成功场景和至少2个替代场景
4. **条件清晰**：定义可验证的前置条件和后置条件
5. **规则显性化**：将隐性业务规则转化为显性约束

### 业务价值

- **为需求分析师**：提供结构化的用例文档模板，减少遗漏关键场景的风险
- **为开发团队**：明确系统边界和交互流程，减少理解偏差
- **为测试团队**：提供场景拆解和测试用例生成的基础（阶段2、3输入）
- **为项目经理**：评估需求范围和实现复杂度

### 成功标准

- ✅ 识别2-3个核心用例，覆盖BRD中80%以上的核心功能
- ✅ 每个用例有明确的参与者（至少1个主参与者）
- ✅ 每个用例有主成功场景和至少2个替代场景
- ✅ 前置/后置条件可验证（有明确的状态描述）
- ✅ 业务规则可追溯到BRD（标注来源）

---

## 📤 O - 输出要求

### 1. 输出结构

#### 第1部分：用例概览

| 用例编号 | 用例名称   | 主参与者   | 业务价值             | 优先级          |
| -------- | ---------- | ---------- | -------------------- | --------------- |
| UC001    | {用例名称} | {主参与者} | {业务价值一句话描述} | High/Medium/Low |
| UC002    | {用例名称} | {主参与者} | {业务价值一句话描述} | High/Medium/Low |
| UC003    | {用例名称} | {主参与者} | {业务价值一句话描述} | High/Medium/Low |

#### 第2部分：用例详细描述（每个用例包含以下9个部分）

```markdown
### UC001：{用例名称}

#### 1. 用例概述

{一句话描述用例的目的和业务价值}

#### 2. 参与者（Actors）

- **主参与者（Primary Actor）**：{谁发起这个用例？}
- **次要参与者（Secondary Actors）**：{谁支持这个用例？如外部系统、后台服务}
- **离场参与者（Off-stage Actors）**：{谁关心这个用例的结果但不直接参与？}

#### 3. 前置条件（Preconditions）

{用例开始前必须满足的条件，必须可验证}

- ✅ {前置条件1}（来自BRD §{章节号}）
- ✅ {前置条件2}
- ✅ {前置条件3}

#### 4. 后置条件（Postconditions）

{用例成功结束后系统的状态，必须可验证}

- ✅ {后置条件1}
- ✅ {后置条件2}
- ✅ {后置条件3}

#### 5. 主成功场景（Main Success Scenario）

{描述理想情况下的交互流程，步骤编号从1开始}

1. {参与者}执行{动作}
2. 系统{响应动作}
3. 系统{验证/计算/存储}
4. 系统{反馈结果}
5. {参与者}确认{结果}
6. 用例结束

#### 6. 替代场景（Alternative Flows）

{描述偏离主场景的情况，至少2个}

##### 替代场景A：{场景名称}

- **分支点**：步骤{N}（主场景的哪一步）
- **触发条件**：{什么情况下触发？}
- **处理流程**：
  - A1. 系统{处理动作}
  - A2. 系统{反馈结果}
  - A3. 返回步骤{N}或结束用例

##### 替代场景B：{场景名称}

- **分支点**：步骤{N}
- **触发条件**：{什么情况下触发？}
- **处理流程**：
  - B1. 系统{处理动作}
  - B2. 系统{反馈结果}
  - B3. 返回步骤{N}或结束用例

{如果有第3、4个替代场景，继续补充}

#### 7. 业务规则（Business Rules）

{影响用例行为的业务规则，可追溯到BRD}

- **BR001**：{规则描述}（来自BRD §{章节号}）
- **BR002**：{规则描述}（来自{行业标准名称}）
- **BR003**：{规则描述}（基于{假设/经验}补充）

#### 8. 非功能需求（Non-Functional Requirements）

{与本用例相关的性能、安全、可用性要求}

- **性能要求**：{响应时间、吞吐量等}（来自BRD §{章节号}）
- **安全要求**：{权限、审计、加密等}（来自BRD §{章节号}）
- **可用性要求**：{SLA、容错等}（来自BRD §{章节号}）

#### 9. 验收标准（Acceptance Criteria）

{如何验证用例实现是否符合预期？}

- ✅ {验收标准1}
- ✅ {验收标准2}
- ✅ {验收标准3}
```

### 2. 质量要求

#### 可追溯性（强制要求）

- 每个前置/后置条件、业务规则、非功能需求必须标注来源
- 格式：`（来自BRD §3.2 性能标准）`
- 如果是补充的需求，标注：`（基于{标准名称/假设}补充）`

#### 场景完整性（强制要求）

- 主成功场景必须覆盖完整的业务流程（从开始到结束）
- 替代场景必须说明分支点、触发条件、处理流程
- 每个替代场景必须说明最终是返回主场景还是结束用例

#### 可验证性（强制要求）

- 前置/后置条件必须可验证（不能是"用户已登录"这种主观描述，要说明如何验证）
- 验收标准必须具体可测（不能是"性能好"，要说明"响应时间P95<3秒"）

#### 专业术语（强制要求）

- 使用UML用例建模的标准术语
- 参与者分类：主参与者（Primary Actor）、次要参与者（Secondary Actors）、离场参与者（Off-stage Actors）
- 场景分类：主成功场景（Main Success Scenario）、替代场景（Alternative Flows）、异常场景（Exception Flows）

### 3. 格式规范

- **文档格式**：Markdown
- **表格使用**：用例概览使用表格展示
- **emoji使用**：✅标识条件和验收标准，增强可读性
- **编号规则**：
  - 用例编号：UC001、UC002、UC003...
  - 业务规则编号：BR001、BR002、BR003...
  - 主场景步骤：1、2、3...
  - 替代场景步骤：A1、A2、B1、B2...

### 4. 特别说明

#### 用例识别原则（演示核心亮点）

**从BRD中识别用例的3个原则**：

1. **业务价值导向**：优先识别能带来直接业务价值的用例（如订单支付、智能推荐）
2. **参与者视角**：每个用例必须从某个参与者的视角触发（如"用户查看推荐"而不是"系统生成推荐"）
3. **完整交互**：每个用例必须描述完整的交互流程（有明确的开始、过程、结束）

**用例粒度控制**：

- **太大**（❌）：一个用例包含多个独立的业务价值 → 拆分为多个用例
- **太小**（❌）：一个用例只是某个动作的一部分 → 合并到更大的用例
- **刚好**（✅）：一个用例代表一个完整的业务目标（如"完成一次推荐点击"）

#### 主场景与替代场景的区别

- **主成功场景**：描述理想情况（Happy Path），一切顺利的流程
- **替代场景**：描述偏离主场景的情况（Alternative Flows），但仍然能达成业务目标
- **异常场景**：描述无法达成业务目标的情况（Exception Flows），如系统故障、权限不足

**本阶段重点**：主成功场景 + 替代场景（异常场景在阶段2场景拆解时详细补充）

#### 信息不足的处理方式

如果BRD中缺少某些信息（如具体的业务规则、性能要求），你应该：

1. **合理推断**：基于行业经验或相似系统给出推断
2. **明确标注**：`（基于{标准名称}补充，需与业务确认）`
3. **列入待办**：在用例文档最后添加"待澄清问题清单"

### 5. 输出格式

直接输出完整的用例文档，包含：
1. 用例概览（表格）
2. 用例详细描述（UC001、UC002、UC003...）
3. 待澄清问题清单（如有）

不要有任何前言或解释。

---

## ✨ 输出格式示例

### 用例概览

| 用例编号 | 用例名称 | 主参与者 | 业务价值 | 优先级 |
|---------|---------|---------|---------|--------|
| UC001 | {用例名称} | {主参与者} | {一句话描述业务价值} | High |
| UC002 | {用例名称} | {主参与者} | {一句话描述业务价值} | High |
| UC003 | {用例名称} | {主参与者} | {一句话描述业务价值} | Medium |

---

### UC001：{用例名称}

#### 1. 用例概述

{一句话描述用例的目的和业务价值}

#### 2. 参与者（Actors）

- **主参与者（Primary Actor）**：{谁发起这个用例？}
- **次要参与者（Secondary Actors）**：{谁支持这个用例？}
- **离场参与者（Off-stage Actors）**：{谁关心这个用例的结果但不直接参与？}

#### 3. 前置条件（Preconditions）

- ✅ {前置条件1}（来自BRD §{章节号}）
- ✅ {前置条件2}
- ✅ {前置条件3}

#### 4. 后置条件（Postconditions）

- ✅ {后置条件1}
- ✅ {后置条件2}
- ✅ {后置条件3}

#### 5. 主成功场景（Main Success Scenario）

1. {参与者}执行{动作}
2. 系统{响应动作}
3. 系统{验证/计算/存储}
4. 系统{反馈结果}
5. {参与者}确认{结果}
6. 用例结束

#### 6. 替代场景（Alternative Flows）

##### 替代场景A：{场景名称}

- **分支点**：步骤3
- **触发条件**：{什么情况下触发？}
- **处理流程**：
  - A1. 系统{处理动作}
  - A2. 系统{反馈结果}
  - A3. 返回步骤4

##### 替代场景B：{场景名称}

- **分支点**：步骤4
- **触发条件**：{什么情况下触发？}
- **处理流程**：
  - B1. 系统{处理动作}
  - B2. 系统{反馈结果}
  - B3. 用例结束

#### 7. 业务规则（Business Rules）

- **BR001**：{规则描述}（来自BRD §{章节号}）
- **BR002**：{规则描述}（来自{行业标准名称}）
- **BR003**：{规则描述}（基于{假设/经验}补充）

#### 8. 非功能需求（Non-Functional Requirements）

- **性能要求**：{响应时间、吞吐量等}（来自BRD §{章节号}）
- **安全要求**：{权限、审计、加密等}（来自BRD §{章节号}）
- **可用性要求**：{SLA、容错等}（来自BRD §{章节号}）

#### 9. 验收标准（Acceptance Criteria）

- ✅ {验收标准1}
- ✅ {验收标准2}
- ✅ {验收标准3}

---

{继续编写UC002、UC003...}

---

### 待澄清问题清单

{如果有需要与业务方确认的问题，列在这里}

1. **{问题类别}**：{具体问题描述}（影响{用例编号}的{部分}）
2. **{问题类别}**：{具体问题描述}（影响{用例编号}的{部分}）

{如果没有待澄清问题，删除本节}
